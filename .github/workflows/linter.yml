name: linter

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: 'Checkout'
        uses: actions/checkout@master
      - name: 'k8s-lint'
        uses: azure/k8s-lint@v1
        with:
          manifests: |
              srcs/ft-services.yaml
              srcs/metallb-config.yaml
              srcs/deployments/mysql.yaml
              srcs/deployments/nginx.yaml
              srcs/deployments/wordpress.yaml
              srcs/pvcs/mysql.yaml
              srcs/pvcs/wordpress.yaml
              srcs/secrets/wordpress-db.yaml
              srcs/services/mysql.yaml
              srcs/services/nginx.yaml
              srcs/services/wordpress.yaml
