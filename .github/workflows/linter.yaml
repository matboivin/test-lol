name: linter

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: 'Checkout'
        uses: actions/checkout@master
      - name: 'k8s-lint'
        uses: azure/k8s-lint@v1
        with:
          manifests: |
              srcs/00-namespace.yaml
              srcs/configmaps/metallb-config.yaml
              srcs/deployments/mysql-deployment.yaml
              srcs/deployments/nginx-deployment.yaml
              srcs/deployments/wordpress-deployment.yaml
              srcs/secrets/wordpress-db.yaml
