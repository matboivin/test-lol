########################################
#                                      #
#  Global VSFTPD server configuration  #
#                                      #
########################################

# When "listen" directive is enabled, vsftpd runs in standalone mode and
# listens on IPv4 sockets. This directive cannot be used in conjunction
# with the listen_ipv6 directive.
listen=YES

# If vsftpd is in standalone mode, this is the port it will listen on for incoming FTP connections.
listen_port=21

# Make sure PORT transfer connections originate from port 20 (ftp-data).
connect_from_port_20=NO

# This string is the name of the PAM service vsftpd will use.
pam_service_name=vsftpd

# Allow anonymous FTP? (Beware - allowed by default if you comment this out).
anonymous_enable=NO

# Controls whether local logins are permitted or not.
# If enabled, normal user accounts in /etc/passwd (or wherever your PAM config references) may be used to log in.
# This must be enable for any non-anonymous login to work, including virtual users.
local_enable=YES

# This option is the name of the file loaded when the userlist_enable option is active.
userlist_file=/etc/vsftpd/vsftpd.user_list

# This option is examined if userlist_enable is activated.
# If you set this setting to NO, then users will be denied login unless they are explicitly listed in the file specified by userlist_file.
userlist_deny=YES

# If enabled, vsftpd will load a list of usernames, from the filename given by userlist_file.
# If a user tries to log in using a name in this file, they will be denied before they are asked for a password.
# This may be useful in preventing cleartext passwords being transmitted.
userlist_enable=yes

# You may specify an explicit list of local users to chroot() to their home
# directory. If chroot_local_user is YES, then this list becomes a list of
# users to NOT chroot().
chroot_local_user=YES

# Default umask for local users is 077. You may wish to change this to 022,
# if your users expect that (022 is used by most other ftpd's)
local_umask=022

# When enabled, anonymous users will only be allowed to download files which are world readable.
anon_world_readable_only=NO

# If vsftpd is in standalone mode, this is the maximum number of clients which may be connected. Any additional clients connecting will get an error message.
max_clients=10

# If vsftpd is in standalone mode, this is the maximum number of clients which may be connected from the same source internet address. A client will get an error message if they go over this limit.
max_per_ip=4

# After this many login failures, the session is killed.
max_login_fails=3

# Activate logging of uploads/downloads.
xferlog_enable=YES

# You may override where the log file goes if you like. The default is shown
# below.
xferlog_file=/var/log/vsftpd.log

# This option is the name of a file containing text to display when someone connects to the server.
# If set, it overrides the banner string provided by the ftpd_banner option.
banner_file=/etc/vsftpd/vsftpd.banner

# Set to NO if you want to disallow the PASV method of obtaining a data connection.
pasv_enable=YES

# The maximum port to allocate for PASV style data connections. Can be used to specify a narrow port range to assist firewalling.
#pasv_max_port=21
# The minimum port to allocate for PASV style data connections. Can be used to specify a narrow port range to assist firewalling.
#pasv_min_port=21

# Set to YES if you want to use a hostname (as opposed to IP address) in the pasv_address option.
#pasv_addr_resolve

# Use this option to override the IP address that vsftpd will advertise in response to the PASV command.
# Provide a numeric IP address, unless pasv_addr_resolve is enabled, in which case you can provide a hostname which will be DNS resolved for you at startup. 
#pasv_address=

########################################
#                                      #
#           SSL configuration          #
#                                      #
########################################

# This option enables our SSL support for vsftpd.
ssl_enable=yes

# Prevent anonymous SSL/TLS encrypted login, in essence, the guest user.
allow_anon_ssl=NO

# Force SSL/TLS encryption of both your username/password and your data to keep it safe.
force_local_data_ssl=YES
force_local_logins_ssl=YES

# Use the stronger, better, encryption offered by TLS 1.2.
ssl_tlsv1_1=NO
ssl_tlsv1_2=YES
ssl_tlsv1=NO
ssl_sslv2=NO
ssl_sslv3=NO

# Additional protection against Man In The Middle (MITM) attacks.
# This may not be compatible with some older FTP clients.
require_ssl_reuse=YES

# Require the server to use stronger cipher suites.
ssl_ciphers=HIGH

# This option specifies the location of the RSA certificate to use for SSL
# encrypted connections.
rsa_cert_file=/etc/ssl/certs/vsftpd.crt
rsa_private_key_file=/etc/ssl/private/vsftpd.key

########################################
#                                      #
#         Users configuration          #
#                                      #
########################################

user_config_dir=/etc/vsftpd/vsftpd_user_conf
